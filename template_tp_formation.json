{
  "index_patterns": [
      "tp_kib_formation"
  ],
  "mappings": {
    "doc" : {

      "dynamic_templates": [
        {
          "fr_strings": {
            "match_mapping_type": "string",
            "match":   "*_fr",
            "mapping": {
              "type": "text",
              "fields": {
                "keyword": {
                  "type": "keyword",
                  "ignore_above": 256
                },
                "fr": {
                  "type": "text",
                  "analyzer" : "french"
                },
                "custom": {
                  "type": "text",
                  "analyzer" : "custom_french"
                }                                
              }
            }
          }
        }
      ]
    }
  },
  "settings": {
    "index": {
         "number_of_shards": "1",
         "number_of_replicas": "0",
         "analysis": {
         "filter": {
          "french_elision": {
            "type": "elision",
            "articles_case": true,
            "articles": ["l", "m", "t", "qu", "n", "s", "j", "d", "c", "jusqu", "quoiqu", "lorsqu", "puisqu"]
          },
          "french_synonym": {
            "type": "synonym",
            "expand": true,
            "synonyms": [
              "dotnet => .NET "
            ]
          },
          "french_stop": {
            "type":       "stop",
            "stopwords":  "_french_"
          },
          "french_keywords": {
            "type":       "keyword_marker",
            "keywords":   ["dotnet"]
          },
          "french_stemmer": {
            "type": "stemmer",
            "language": "light_french"
          }
        },
        "analyzer": {
          "custom_french": {
            "tokenizer": "whitespace",
            "filter": [
              "french_elision",
              "lowercase",
              "french_stop",
              "french_stemmer",
              "french_keywords",
              "french_synonym"
            ]
          }
        }
      }
    }
  }
}